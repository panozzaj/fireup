# Quiet by default, use LEFTHOOK_VERBOSE=1 for full output
output:
  - summary
  - failure

pre-commit:
  parallel: true
  jobs:
    - name: gofmt
      glob: "*.go"
      run: gofmt -l -w {staged_files}
      stage_fixed: true

    - name: go-test
      glob: "*.go"
      run: GOPATH="" go test ./...

    - name: docs-line-length
      glob: "docs/*.txt"
      run: "awk 'length > 80 { print FILENAME \":\" NR \": line exceeds 80 chars (\" length \" chars)\"; exit 1 }' {staged_files}"
